\documentclass{article}
    % General document formatting
    \usepackage[margin=0.7in]{geometry}
    \usepackage[parfill]{parskip}
    \usepackage[utf8]{inputenc}
    \usepackage{pgfplots}
    \usepackage{subcaption}
    
    % Related to math
    \usepackage{amsmath,amssymb,amsfonts,amsthm} 

\pgfmathdeclarefunction{gauss}{2}{%
  \pgfmathparse{1/(#2*sqrt(2*pi))*exp(-((x-#1)^2)/(2*#2^2))}%
}

% Use approximation as given for the normal CDF in this TeXExchange post:
% https://tex.stackexchange.com/questions/60950/how-to-draw-cdf-of-normal-distribution-in-tikz.
% Argument 1 is the lower bound of the integral over PDF, argument 2 is the 
% upper bound of the integral.
\pgfmathdeclarefunction{normcdf}{4}{
  \pgfmathparse{
    1/(1 + exp(-0.07056*((#2-#3)/#4)^3 - 1.5976*(#2-#3)/#4)) -
    1/(1 + exp(-0.07056*((#1-#3)/#4)^3 - 1.5976*(#1-#3)/#4)) 
  }
}

\def\cdf(#1)(#2)(#3){0.5*(1+(erf((#1-#2)/(#3*sqrt(2)))))}

% \tikzset{
%     declare function={
%         normcdf(\x,\m,\s)=1/(1 + exp(-0.07056*((\x-\m)/\s)^3 - 1.5976*(\x-\m)/\s));
%     }
% }


% Moscovici & Zavalloni DeGaulle Data
\newcommand\observedMeanPre{0.9}
\newcommand\observedMeanPost{1.2}
\newcommand\latentMean{1.0}
\newcommand\latentSDPre{2.5}
\newcommand\latentSDPost{1.0}
\newcommand\simObsSDPre{1.92}
\newcommand\simObsSDPost{1.08}

\newcommand\plotWidth{4in}
\newcommand\plotHeight{2.5in}


\begin{document}

% \begin{figure}
% % \vspace{0.5em}
%   \centering
%   \begin{tikzpicture}
%   \begin{axis}[
%   no markers, domain=-4:4, samples=100,
%   axis lines*=left, xlabel=$o_{i,t}$, ylabel=Frequency,
%   % y label style={{(axis description cs:0.5,-0.03)},anchor=south},
%    ylabel near ticks,
% %   ylabel shift={-1},
%   every axis x label/.style={at=(current axis.right of origin),anchor=west},
%   height=\plotHeight, width=\plotWidth,
%   xtick={-3, -2, -1, 0, 1, 2, 3}, 
%   % ytick=\empty,
%   enlargelimits=false, clip=false, axis on top,
%   legend entries={Pre-deliberation},
%   legend style={at={(axis cs:-3.85,0.45)},anchor=north west}
% %   grid = major
%   ]
    
    
%     \addplot [very thick,pink, line width = 3pt] {gauss(\latentMean, \latentSDPre)};
%     % \addplot [very thick,green!65, line width = 3pt] {gauss(\latentMean, \latentSDPost)};
    
    
%     \node at (axis cs:\latentMean,0.5) [anchor=south] {$\mu_{t=pre} = \latentMean$};
%     \addplot [gray] coordinates {(\latentMean, 0) (\latentMean, 0.5)};

%   % \node at (axis cs:-4,0.55) [anchor=south] {\large{\textbf{\textsf{A}}}};
%   \end{axis}

%   \end{tikzpicture}
%   \caption{}
% \end{figure}
% \begin{figure}
%   \centering
% % \vspace{0.5em}
% \centering
% \begin{tikzpicture}
% \begin{axis}[
%   no markers, domain=-4:4, samples=100,
%   axis lines*=left, xlabel=$o_{i,t}$, ylabel=Frequency,
%   % y label style={{(axis description cs:0.5,-0.03)},anchor=south},
%    ylabel near ticks,
% %   ylabel shift={-1},
%   every axis x label/.style={at=(current axis.right of origin),anchor=west},
%   height=\plotHeight, width=\plotWidth,
%   xtick={-3, -2, -1, 0, 1, 2, 3}, 
%   % ytick=\empty,
%   enlargelimits=false, clip=false, axis on top,
%   legend entries={Pre-deliberation, Post-deliberation},
%   legend style={at={(axis cs:-3.85,0.45)},anchor=north west}
% %   grid = major
%   ]
    
    
%     \addplot [very thick,pink, line width = 3pt] {gauss(\latentMean, \latentSDPre)};
%     \addplot [very thick,green!65, line width = 3pt] {gauss(\latentMean, \latentSDPost)};
    
    
%     % \node at (axis cs:\latentMean,0.5) [anchor=south] {$\mu = \latentMean$};
%     \node at (axis cs:\latentMean,0.5) [anchor=south] {$\mu_{t=pre} = \mu_{post} = \latentMean$};
%     \addplot [gray] coordinates {(\latentMean, 0) (\latentMean, 0.5)};

%   % \node at (axis cs:-4,0.55) [anchor=south] {\large{\textbf{\textsf{A}}}};
% \end{axis}

% \end{tikzpicture}
%   \caption{}
% \end{figure}
% \begin{figure}
%   \centering
% % \vspace{0.5em}
% \centering
% \begin{tikzpicture}
% \begin{axis}[
%   no markers, domain=-4:4, samples=100,
%   axis lines*=left, xlabel=$o_{i,t}$, ylabel=Frequency,
%   % y label style={{(axis description cs:0.5,-0.03)},anchor=south},
%    ylabel near ticks,
% %   ylabel shift={-1},
%   every axis x label/.style={at=(current axis.right of origin),anchor=west},
%   height=\plotHeight, width=\plotWidth,
%   xtick={-3, -2, -1, 0, 1, 2, 3}, 
%   % ytick=\empty,
%   enlargelimits=false, clip=false, axis on top,
%   legend entries={Pre-deliberation, Post-deliberation},
%   legend style={at={(axis cs:-3.85,0.45)},anchor=north west}
% %   grid = major
%   ]
    
    
%     \addplot [very thick,pink, line width = 3pt] {gauss(\latentMean, \latentSDPre)};
%     \addplot [very thick,green!65, line width = 3pt] {gauss(\latentMean, \latentSDPost)};
    
    
%     \node at (axis cs:\latentMean,0.5) [anchor=south] {$\mu_{t=pre} = \mu_{post} = \latentMean$};
%     \addplot [gray] coordinates {(\latentMean, 0) (\latentMean, 0.5)};
%     \node at (axis cs:2.0,0.40) [align=center,anchor=north west] 
%     {\large $\sigma_{t=pre} > \sigma_{post}$};

%   % \node at (axis cs:-4,0.55) [anchor=south] {\large{\textbf{\textsf{A}}}};
% \end{axis}

% \end{tikzpicture}
%   \caption{}
% \end{figure}
% \begin{figure}
%   \centering
% % \vspace{0.5em}
% \centering
% \begin{tikzpicture}
% \begin{axis}[
%   no markers, domain=-4:4, samples=100,
%   axis lines*=left, xlabel=$o_{i,t}$, ylabel=Frequency,
%   % y label style={{(axis description cs:0.5,-0.03)},anchor=south},
%    ylabel near ticks,
% %   ylabel shift={-1},
%   every axis x label/.style={at=(current axis.right of origin),anchor=west},
%   height=\plotHeight, width=\plotWidth,
%   xtick={-3, -2, -1, 0, 1, 2, 3}, 
%   % ytick=\empty,
%   enlargelimits=false, clip=false, axis on top,
%   legend entries={Pre-deliberation, Post-deliberation},
%   legend style={at={(axis cs:-3.85,0.45)},anchor=north west}
% %   grid = major
%   ]
    
    
%     \addplot [very thick,pink, line width = 3pt] {gauss(\latentMean, \latentSDPre)};
%     \addplot [very thick,green!65, line width = 3pt] {gauss(\latentMean + 1, \latentSDPost)};
    
    
%     \node at (axis cs:\latentMean,0.5) [anchor=south] {$\mu_{t=pre} = \latentMean$};
%     \node at (axis cs:\latentMean + 1,0.4) [anchor=south west] {$\mu_{post} = 2.0$};
%     \addplot [gray] coordinates {(\latentMean, 0) (\latentMean, 0.5)};
%     \addplot [gray] coordinates {(\latentMean + 1, 0) (\latentMean + 1, 0.4)};
%     % \node at (axis cs:2.0,0.40) [align=center,anchor=north west] 
%     %   {\large $\sigma_{t=pre} > \sigma_{post}$};

%   % \node at (axis cs:-4,0.55) [anchor=south] {\large{\textbf{\textsf{A}}}};
% \end{axis}

% \end{tikzpicture}
%   \caption{}
% \end{figure}

\begin{figure}
% \begin{subfigure}{0.60\textwidth} 
%   \hspace{-10em}
  % \large{\textbf{\textsf{B}}} \\
% \vspace{0.5em}
\centering
\begin{tikzpicture} \begin{axis}[
  every axis x label/.style={at=(current axis.right of origin),anchor=west},
  axis lines*=left,
xtick={-3,-2,-1,0,1,2,3},
ylabel=Frequency, 
xlabel={Bin, $b_k$},
% enlargelimits=0.15,
legend style={at={(0.5,-0.15)}, 
% symbolic x coords={-3,-2,-1,0,1,2,3},
anchor=north,legend columns=-1}, ybar,
    bar width=7pt,
  height=2.5in, width=3.45in,
  ymin=0, ymax = 0.5,
    legend style={/tikz/every even column/.append style={column sep=1em}}
]
    \addplot [fill=pink!70] coordinates {
        % (-3, \cdf(\latentMean, \latentSDPre)
        % (-2, \cdf(\latentMean, \latentSDPre)
        % (-1, \cdf(\latentMean, \latentSDPre)
        % (0, \cdf(\latentMean, \latentSDPre)
        % (1, \cdf(\latentMean, \latentSDPre)
      (-3, normcdf(-100, -2.5, \latentMean, \latentSDPre)
      (-2, normcdf(-2.5, -1.5, \latentMean, \latentSDPre)
      (-1, normcdf(-1.5, -0.5, \latentMean, \latentSDPre)
      (0, normcdf(-0.5, 0.5, \latentMean, \latentSDPre)
      (1, normcdf(0.5, 1.5, \latentMean, \latentSDPre)
      (2, normcdf(1.5, 2.5, \latentMean, \latentSDPre)
      (3, normcdf(2.5, 100, \latentMean, \latentSDPre)
      % (3, gnuplot{\cdf(3, \latentMean, \latentSDPre)}
    };

    \newcommand\observedExampleMean{0.76}  % Calculated using GP stat R code meanObs in model.R
    
    \node at (axis cs:\observedExampleMean + 0.075 ,0.405) [anchor=south west] 
      { $\langle o_{t=pre} \rangle = \observedExampleMean$};
    \addplot [line legend,
    dashed,
    % line width = 1pt, 
    line width = 0.65pt,
    sharp plot, 
    % gray
    ] 
    coordinates {(\observedExampleMean, 0) (\observedExampleMean, 0.5)};
    


\end{axis}
\end{tikzpicture}

\caption{}
\label{fig:NoChangeHypothesisIllustration}
\end{figure}



%%% BEGIN EXAMPLE FROM GP STATS PAPER OF MEASURED DISTRIBUTION. %%%



\begin{figure}
% \begin{subfigure}{0.60\textwidth} 
%   \hspace{-10em}
  % \large{\textbf{\textsf{B}}} \\
% \vspace{0.5em}
\centering
\begin{tikzpicture} \begin{axis}[
  every axis x label/.style={at=(current axis.right of origin),anchor=west},
  axis lines*=left,
xtick={-3,-2,-1,0,1,2,3},
ylabel=Frequency, 
xlabel={Bin, $b_k$},
% enlargelimits=0.15,
legend style={at={(0.5,-0.15)}, 
% symbolic x coords={-3,-2,-1,0,1,2,3},
anchor=north,legend columns=-1}, ybar,
    bar width=7pt,
  height=2.5in, width=3.45in,
  ymin=0, ymax = 0.5,
    legend style={/tikz/every even column/.append style={column sep=1em}}
]
    \addplot [fill=pink!70] coordinates {
      (-3, normcdf(-100, -2.5, \latentMean, \latentSDPre)
      (-2, normcdf(-2.5, -1.5, \latentMean, \latentSDPre)
      (-1, normcdf(-1.5, -0.5, \latentMean, \latentSDPre)
      (0, normcdf(-0.5, 0.5, \latentMean, \latentSDPre)
      (1, normcdf(0.5, 1.5, \latentMean, \latentSDPre)
      (2, normcdf(1.5, 2.5, \latentMean, \latentSDPre)
      (3, normcdf(2.5, 100, \latentMean, \latentSDPre)
        % (-3, gauss(\latentMean, \latentSDPre)
        % (-2, gauss(\latentMean, \latentSDPre)
        % (-1, gauss(\latentMean, \latentSDPre)
        % (0, gauss(\latentMean, \latentSDPre)
        % (1, gauss(\latentMean, \latentSDPre)
        % (2, gauss(\latentMean, \latentSDPre)
        % (3, gauss(\latentMean, \latentSDPre)
    };
    \addplot [fill=green!40] coordinates {
      (-3, normcdf(-10, -2.5, \latentMean, \latentSDPost)
      (-2, normcdf(-2.5, -1.5, \latentMean, \latentSDPost)
      (-1, normcdf(-1.5, -0.5, \latentMean, \latentSDPost)
      (0, normcdf(-0.5, 0.5, \latentMean, \latentSDPost)
      (1, normcdf(0.5, 1.5, \latentMean, \latentSDPost)
      (2, normcdf(1.5, 2.5, \latentMean, \latentSDPost)
      (3, normcdf(2.5, 10, \latentMean, \latentSDPost)
        % (-3, gauss(\latentMean, \latentSDPost)
        % (-2, gauss(\latentMean, \latentSDPost)
        % (-1, gauss(\latentMean, \latentSDPost)
        % (0, gauss(\latentMean, \latentSDPost)
        % (1, gauss(\latentMean, \latentSDPost)
        % (2, gauss(\latentMean, \latentSDPost)
        % (3, gauss(\latentMean, \latentSDPost)
    };
    
    \node at (axis cs:\observedMeanPre - 0.075, 0.405) [anchor=south east] 
      { $\langle o_{pre} \rangle = \observedMeanPre$};
    \addplot [line legend, 
    dashed,
    line width = 0.65pt,
    % line width = 1pt, 
    sharp plot] 
      coordinates {(\observedMeanPre, 0) (\observedMeanPre, 0.5)};
        
    \node at (axis cs:\observedMeanPost + 0.075 ,0.405) [anchor=south west] 
      { $\langle o_{post} \rangle = \observedMeanPost$};
    \addplot [line legend,
    dashed,
    % line width = 1pt, 
    line width = 0.65pt,
    sharp plot, 
    % gray
    ] 
      coordinates {(\observedMeanPost, 0) (\observedMeanPost, 0.5)};

    % Display simulated observed standard devaitions.
    \node[text width=1.25in] at (axis cs:-2.5,0.385) [anchor=north west] 
      {$S_{pre} = 1.8$ \\ 
      $S_{post} = 1.2$};

    \legend{$t=pre$, $t=post$, Sim. Obs. Mean}

  \node at (axis cs:-3.25,0.6) [anchor=south] {\large{\textbf{\textsf{B}}}};

\end{axis}
\end{tikzpicture}

\caption{}
\label{fig:NoChangeHypothesisIllustration}
\end{figure}

\end{document}
